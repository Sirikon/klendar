HTMLElement.prototype.klendar=null,HTMLElement.prototype.date=null,Date.prototype.increaseMonth=function(t){var e=this.getMonth();this.setMonth(e+t),this.getMonth()!=e+t&&this.setMonth(e+t)};var klendarStatics={monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekDayChars:["L","M","X","J","V","S","D"]},klendar=function(t,e){this.days={},this.daysData={},this.dayController=function(t){return t},this.element=t,e&&(this.dayController=e),this.__construct__=function(){this.element.klendar=this,this.element.className+=" klendar",this.actual=new Date(this.element.dataset.actual||Date.now()),this.drawStruct(),this.drawMonth(new Date(this.actual.getTime()))},this.prevMonth=function(){var t=this.actualMonth;t.increaseMonth(-1),this.drawMonth(t)},this.nextMonth=function(){var t=this.actualMonth;t.increaseMonth(1),this.drawMonth(t)},this.drawStruct=function(){var t=this,e=document.createElement("div");e.className="klendar-header";var a=document.createElement("span"),n=document.createElement("button");n.className="klendar-prev",n.textContent="<",n.addEventListener("click",function(e){e.preventDefault(),t.prevMonth()});var s=document.createElement("button");s.className="klendar-next",s.textContent=">",s.addEventListener("click",function(e){e.preventDefault(),t.nextMonth()});var r=document.createElement("table");r.className="klendar-month",r.setAttribute("border",0),r.setAttribute("cellspacing",0);var h=document.createElement("table");for(h.className="klendar-daychars",h.setAttribute("border",0),h.setAttribute("cellspacing",0),this.element.innerHTML="",e.appendChild(n),e.appendChild(a),e.appendChild(s),this.element.appendChild(e),i=0;7>i;i++)h.appendChild(this.createCell(klendarStatics.weekDayChars[i]));this.element.appendChild(h),this.element.appendChild(r),this.element.headerView=a,this.element.monthView=r},this.drawMonth=function(t){console.log(t);var e=t.getFullYear(),a=t.getMonth()+1+"";this.actualMonth=t,a.length<2&&(a="0"+a);var n=new Date(""+e+"-"+a+"-01T12:00:00");window.thedate=n,this.element.monthView.innerHTML="",this.element.headerView.textContent=klendarStatics.monthNames[t.getMonth()]+" "+e;var s=[];for(i=0;i<(n.getDay()+6)%7;i++)s.push(this.createCell(""));var r=new Date(t.getTime());for(r.setMonth(r.getMonth()+1),r.setDate(1),r.setDate(r.getDate()-1),i=0;i<r.getDate();i++){var h=this.createDayCell(i+1);i+1==this.actual.getDate()&&this.actual.getMonth()==t.getMonth()&&this.actual.getFullYear()==t.getFullYear()?(h.isActual=!0,h.className+=" actual"):h.isActual=!1;var l=i+1+"";if(l.length<2&&(l="0"+l),this.daysData[""+e+"-"+a+"-"+l]){var o=this.daysData[""+e+"-"+a+"-"+l];for(var d in o)h[d]=o[d]}h.date={},h.date.year=parseInt(e),h.date.month=parseInt(a),h.date.day=parseInt(l),this.days[""+e+"-"+a+"-"+l]=h,s.push(h)}var c=0,u=document.createElement("tr");for(i=0;i<s.length;i++)7==c&&(this.element.monthView.appendChild(u),u=document.createElement("tr"),c=0),s[i].date&&(s[i].date.weekDay=c),s[i]=this.dayController(s[i]),u.appendChild(s[i]),c++;c>0&&this.element.monthView.appendChild(u)},this.createDayCell=function(t){var e=document.createElement("td");return e.textContent=t,e},this.createCell=function(t){var e=document.createElement("td");return e.textContent=t,e},this.set=function(t,e){this.daysData[t]||(this.daysData[t]={});for(var a in e)this.daysData[t][a]=e[a],this.days[t]&&(this.days[t][a]=e[a]);this.days[t]&&(this.days[t]=this.dayController(this.days[t]))},this.__construct__()};
//# sourceMappingURL=./klendar.min.map