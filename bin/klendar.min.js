"use strict";HTMLElement.prototype.klendar=null,HTMLElement.prototype.date=null,Date.prototype.increaseMonth=function(t){var e=this.getMonth();this.setMonth(e+t),this.getMonth()!=e+t&&this.setMonth(e+t)};var klendari18n={es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekDayChars:["L","M","X","J","V","S","D"]},en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],weekDayChars:["M","T","W","T","F","S","S"]}},klendarStatics={getMonthNames:function(){var t=this.geti18n();return t.monthNames},getWeekDayChars:function(){var t=this.geti18n();return t.weekDayChars},geti18n:function(){var t=this.getBrowserLanguage();return klendari18n[t]?klendari18n[t]:void 0},getBrowserLanguage:function(){return navigator.language||navigator.userLanguage||"en"}},klendar=function(t,e){this.days={},this.daysData={},this.dayController=function(t){return t},this.element=t,e&&(this.dayController=e),this.__construct__=function(){this.element.klendar=this,this.element.className+=" klendar",this.actual=new Date(this.element.getAttribute("data-actual")||Date.now()),this.drawStruct(),this.drawMonth(new Date(this.actual.getTime()))},this.prevMonth=function(){var t=this.actualMonth;t.increaseMonth(-1),this.drawMonth(t)},this.nextMonth=function(){var t=this.actualMonth;t.increaseMonth(1),this.drawMonth(t)},this.drawStruct=function(){var t=this,e=document.createElement("div");e.className="klendar-header";var a=document.createElement("span"),n=document.createElement("button");n.className="klendar-prev",n.textContent="<",n.addEventListener("click",function(e){e.preventDefault(),t.prevMonth()});var r=document.createElement("button");r.className="klendar-next",r.textContent=">",r.addEventListener("click",function(e){e.preventDefault(),t.nextMonth()});var i=document.createElement("table");i.className="klendar-month",i.setAttribute("border",0),i.setAttribute("cellspacing",0);var s=document.createElement("table");s.className="klendar-daychars",s.setAttribute("border",0),s.setAttribute("cellspacing",0),this.element.innerHTML="",e.appendChild(n),e.appendChild(a),e.appendChild(r),this.element.appendChild(e);for(var h=0;7>h;h++)s.appendChild(this.createCell(klendarStatics.getWeekDayChars()[h]));this.element.appendChild(s),this.element.appendChild(i),this.element.headerView=a,this.element.monthView=i},this.drawMonth=function(t){var e=t.getFullYear(),a=t.getMonth()+1+"";this.actualMonth=t,a.length<2&&(a="0"+a);var n=new Date(""+e+"-"+a+"-01T12:00:00");window.thedate=n,this.element.monthView.innerHTML="",this.element.headerView.textContent=klendarStatics.getMonthNames()[t.getMonth()]+" "+e;for(var r=[],i=0;i<(n.getDay()+6)%7;i++)r.push(this.createCell(""));var s=new Date(t.getTime());for(s.setMonth(s.getMonth()+1),s.setDate(1),s.setDate(s.getDate()-1),i=0;i<s.getDate();i++){var h=this.createDayCell(i+1);i+1==this.actual.getDate()&&this.actual.getMonth()==t.getMonth()&&this.actual.getFullYear()==t.getFullYear()?(h.isActual=!0,h.className+=" actual"):h.isActual=!1;var l=i+1+"";if(l.length<2&&(l="0"+l),this.daysData[""+e+"-"+a+"-"+l]){var o=this.daysData[""+e+"-"+a+"-"+l];for(var d in o)h[d]=o[d]}h.date={},h.date.year=parseInt(e),h.date.month=parseInt(a),h.date.day=parseInt(l),this.days[""+e+"-"+a+"-"+l]=h,r.push(h)}var c=0,u=document.createElement("tr");for(i=0;i<r.length;i++)7==c&&(this.element.monthView.appendChild(u),u=document.createElement("tr"),c=0),r[i].date&&(r[i].date.weekDay=c),r[i]=this.dayController(r[i]),u.appendChild(r[i]),c++;c>0&&this.element.monthView.appendChild(u)},this.createDayCell=function(t){var e=document.createElement("td");return e.textContent=t,e},this.createCell=function(t){var e=document.createElement("td");return e.textContent=t,e},this.set=function(t,e){this.daysData[t]||(this.daysData[t]={});for(var a in e)this.daysData[t][a]=e[a],this.days[t]&&(this.days[t][a]=e[a]);this.days[t]&&(this.days[t]=this.dayController(this.days[t]))},this.__construct__()};
//# sourceMappingURL=./klendar.min.map